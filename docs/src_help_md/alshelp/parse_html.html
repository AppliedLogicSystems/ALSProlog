<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>grab_pxml/2</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header>
<h1 class="title">grab_pxml/2</h1>
</header>
<h2 id="forms">FORMS</h2>
<p><code>grab_pxml(Path, PXML)</code></p>
<p><code>grab_pxml_with_paths(FilePath, PXML, TagVals, TgtTags, Paths)</code></p>
<p><code>grab_pxml_with_tagged(FilePath, PXML, TagVals)</code></p>
<p><code>parse_html_toks_to_pxml(Tokens, Terms, StackIn, StackOut, TagsValsDList)</code></p>
<p><code>parse_html_toks_to_pxml_vals(Tokens, PXML, TVals)</code></p>
<p><code>read_pxml_comment(Tokens, Features, RestTokens)</code></p>
<p><code>read_pxml_term(Tokens, Term, RestTokens, StackIn, StackOut,</code></p>
<p><code>unary_tag(T)</code></p>
<h2 id="description">DESCRIPTION</h2>
<p><strong><code>grab_pxml/2</code></strong> Calls grab_html_tokens/2 to read the list L of HTML tokens out<br />
of Path, and then parses L into a (single !doctype) PXML term.</p>
<p><strong><code>grab_pxml_with_paths/5</code></strong> Calls grab_html_tokens/2 to read the list L of HTML tokens out<br />
of FilePath, and then parses L into a (single !doctype) PXML term,<br />
where it accumulates tags of component terms in MTags, with<br />
the tagged terms accumulated in (lists) on TagVals, and<br />
also accumulates pairs (Stack, Term) on Paths, where:<br />
1) TgtTags is a list of HTML tags,<br />
2) Stack is list [Tg1, Tg1 | …] of HTML terms representing<br />
the reversed parser stack with Tg1 belonging to TgtTags, and<br />
3) Term was parsed out as Tg1 was popped from Stack.</p>
<p><strong><code>grab_pxml_with_tagged/3</code></strong> Calls grab_html_tokens/2 to read the list L of HTML tokens out<br />
of FilePath, and then parses L into a (single !doctype) PXML term,<br />
where it accumulates tags of component terms in MTags, with<br />
the tagged terms accumulated in (lists) on MTagVals.</p>
<p><strong><code>parse_html_toks_to_pxml/5</code></strong> The workhorse. Parses a list of HTML-tokens, as produced by<br />
read_tokens/5 in html_tokens.pro, into a collection of Prolog Terms<br />
consituting a PXML representation of the source.<br />
The pair (StackIn, StackOut) implements the parser stack.<br />
The difference list<br />
TagsValsDList<br />
provides a means of capturing components of the PXML output.<br />
—-<br />
MTags is a list of non-comment tags. Often, MTags = [body].<br />
MTagVals is the list of corresponding PXML terms found, if any.<br />
So if MTags = [body, table], we might have MTagVals = [body=Body],<br />
if there were no table, and<br />
MTagVals = [body=Body, table=[list of PXML table terms] ]<br />
if there was more than one table.<br />
—-<br />
If (MTags, MTagVals) was to be big, it could be carried as<br />
ani AVL tree. But moderate examples will probably be typical.</p>
<p><strong><code>parse_html_toks_to_pxml_vals/3</code></strong> parse a list of HTML-tokens</p>
<p><strong><code>read_pxml_comment/3</code></strong> Read from Tokens an HTML comment into Features,<br />
leaving RestTokens.</p>
<p><strong><code>read_pxml_term/7</code></strong> Reads the (largest) PXML term possible starting at the<br />
beginning of Tokens.</p>
<p><strong><code>unary_tag/1</code></strong> Syntactic roles of tags:<br />
Spec rules about optional tags:<br />
https://html.spec.whatwg.org/multipage/syntax.html#optional-tags<br />
See also:<br />
https://html.spec.whatwg.org/multipage/syntax.html<br />
https://html.spec.whatwg.org/multipage/parsing.html<br />
unary_tag/1 is exported for use by pxml_utils.pro.</p>
<h2 id="examples">EXAMPLES</h2>
</body>
</html>
