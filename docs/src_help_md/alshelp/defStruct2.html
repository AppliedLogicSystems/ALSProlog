<h2 id="forms">FORMS</h2>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>:- defStruct(TypeID, Equations) .
</code></pre></div></div>
<h2 id="description">DESCRIPTION</h2>

<p>Used as a directive to specify an abstract datatype.  <code class="highlighter-rouge">TypeID</code> is an atom functioning identifying the type.  <code class="highlighter-rouge">Equations</code> is a list of <em>[equality statements]</em> of the form :</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      Left = Right
</code></pre></div></div>
<p>where the left component of the equality statements must be one of :</p>

<ul>
  <li>
    <p><code class="highlighter-rouge">propertiesList</code></p>
  </li>
  <li>
    <p><code class="highlighter-rouge">accessPred</code></p>
  </li>
  <li>
    <p><code class="highlighter-rouge">setPred</code></p>
  </li>
  <li>
    <p><code class="highlighter-rouge">makePred</code></p>
  </li>
  <li>
    <p><code class="highlighter-rouge">structLabel</code></p>
  </li>
</ul>

<p>The right sides of equality statements are Prolog terms whose structure depends on the left side entry, as follows.</p>

<p><strong><code class="highlighter-rouge">propertiesList</code></strong>
<br />    A list of atoms or expressions which are the symbolic names, or names plus values, of the properties or slots of the structure being defined. Details a presented below.</p>

<p>For all of the rest of the equality statements, the right side is a single atom.</p>

<p><strong><code class="highlighter-rouge">accessPred</code></strong>
<br />    The name of the ternary(3-argument) predicate to be used for accessing the values of the slots in the structure. Calls on a generated accessPred take the form</p>

<p>&lt;accessPred&gt;(&lt;slotname&gt;, &lt;Structure&gt;, &lt;Value&gt;)</p>

<p><strong><code class="highlighter-rouge">setPred</code></strong>
<br />    The name of the ternary(3-argument) predicate to be used for setting or changing the values of the slots in the structure. Calls on a generated accessPred take the form</p>

<p>&lt;setPred&gt;(&lt;slotname&gt;, &lt;Structure&gt;, &lt;Value&gt;)</p>

<p><strong><code class="highlighter-rouge">makePred</code></strong>
<br />    The name of the unary predicate used for obtaining a fresh structure of the defined type.</p>

<p><strong><code class="highlighter-rouge">structLabel</code></strong>
<br />    The name of the functor of the structure defined.</p>

<p>In more detail, a <strong><code class="highlighter-rouge">propertiesList</code></strong> is a list of <strong><em>[slot  specifications]</em></strong> as follows :</p>

<ul>
  <li>
    <p>an atom, which is the name of the particular slot, or</p>
  </li>
  <li>an expression of the form
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   SlotName/Term,
</code></pre></div>    </div>
    <p>where <code class="highlighter-rouge">SlotName</code> is an atom serving as the name of this slot, and <code class="highlighter-rouge">Term</code> is an arbitrary Prolog term which is the default value of this particular slot, or</p>
  </li>
  <li>an
<strong><em>[include]</em></strong>
expression which is a term of the form
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   include(File, Type)
</code></pre></div>    </div>
    <p>where <code class="highlighter-rouge">File</code> is a path to a file, and <code class="highlighter-rouge">Type</code> is the name of a <code class="highlighter-rouge">defStruct</code> which appears in that file; if <code class="highlighter-rouge">File</code> can be located, and if the <code class="highlighter-rouge">defStruct</code> <code class="highlighter-rouge">Type</code> appears in <code class="highlighter-rouge">File</code>, the elements of propertiesList for <code class="highlighter-rouge">Type</code> are interpolated at the point where the include expression occurred; include expressions may be recursively nested. [Note : Relative paths in recursive includes must be valid from the directory in which the <code class="highlighter-rouge">defStruct</code> directive was invoked. ]</p>
  </li>
</ul>

<h2 id="examples">EXAMPLES</h2>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>:- defStruct(windows,
     [ propertiesList =
        [ windowName, % name of the window
          windowNum,  % assigned by window sys
          borderColor/blue, % for color displays
          borderType/sing,  % single or double lines
          uLR, uLC,   % coords(Row, Col) of upper Left corner
          lRR, lRC,   % coords(Row, Col) of lower Right corner
          fore/black, % foreground/background
          back/white  % text attribs
        ],
        accessPred = accessWI,
        setPred = setWI,
        makePred = makeWindowStruct,
        structLabel = wi
     ] ).
</code></pre></div></div>
<p>Then :</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     ..., makeWindowStruct(WIN),
     ..., setWI(windowName, WIN, foo),
     ..., accessWI(borderColor, WIN, BColor), ...
</code></pre></div></div>

