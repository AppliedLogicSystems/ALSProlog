Microsoft Win32 x86 ALS Prolog Build Instructions
=============================================
Author: Chuck Houpt Date: 3-April-1996

These instructions assume that the ALS Prolog source directory exists,
and all of its generated files are up to date (for example: generated
makefiles, headers, etc).  The ALS Prolog source directory is refered
to as $SRCDIR, %SRCDIR% or {blddir} in this document.

Build Materials:
----------------

¥ Macintosh (68k or PowerPC) with at least 15 MB of available memory
and at least 150 MB of available disk space.

¥ x86 Windows95 or WindowsNT machine with at least X MB of memory and
at least Y MB or available disk space.

¥ Unix system.

¥ Metrowerk's Code Warrior Gold 8 with the following options and
modifications:
	- Install with at least this package: Metrowerks x86 C/C++ Compiler
	- Put a copy of Microsoft Visual C++ 2.0's LIBC.LIB in the
	  Win32/x86 Support:Libraries folder.

Build Instructions:
-------------------

A note of access paths:

The Metrowerks projects will need to have their access paths adjusted if 
the name of the ALS Prolog source directory has changed.

To change the access paths for a project, select "Preferences..." from
the Edit menu to open the preferences dialog.  In the preferences dialog,
click on the access paths icon, and to see the current paths.

Only the User paths that reference the ALS Prolog source tree will need
adjusting.  To change a path, click-select it and press the "Change"
button.  Use the standard file dialog box to navigate to the correct
directory.

One special path that may need modifying is the command file for the
alspro.dll library.  The command file for alspro.dll.prj should be
{srcdir}generic:alspro_dll.exp.  The path to the command file is entered
in the x86 linker preferences panel.

A note on DOS batch files:

All the DOS batch files assume that the environment variable %ALSP_SRC%
is set to the ALS Prolog source directory. Execute the following command
before running any of the batch files:

set ALSP_SRC=x:\yyyyy\zzzz

Build Steps:
------------

1. From Unix, run the shell script bd_mswin32 to create the build
directory ($BLDDIR):

	$SRCDIR\bin\bd_mswin32 $SRCDIR $BLDDIR
	
2. On the Mac, decode and extract the project files using Stuffit
Expander.  The following projects need expanding:

	{blddir}bld-port:alspro_lib.prj.sit.hqx
	{blddir}bld-port:alspro_b.prj.sit.hqx
	{blddir}bld-port:alspro_dll.prj.sit.hqx
	
	{blddir}bld-wins:mswin32:mswin32intf_lib.prj.sit.hqx
	{blddir}bld-wins:mswin32:alspro_mswin32.prj.sit.hqx

3. On the Mac, build the portable versions

Each project may need to have its access paths or command file adjusted,
see the note above.

3.1 Open alspro_lib.prj, adjust access paths, Make.

3.2 Open alspro_b.prj, adjust access paths, Make.

3.3 Open alspro_dll.prj, adjust access paths, adjust command path, Make.

4. From MS-DOS, change the directory to %BLDDIR%\bld-port, and run the
batch file package.bat.

5. From MS-DOS, change, the directory to %BLDDIR%\bld-wins\mswin32, and
run the batch file make_interf.bat.

6. On the Mac, build the the Win32 Interface libraries.



3. Set MPW's working directory to {blddir}

4. Execute the MakeIt script.  No Errors should be displayed during the
build process.

Files generated:
----------------

Alspro libararies:

{blddir}bld-port:alspro.lib
{blddir}bld-port:alspro.dll
{blddir}bld-port:alspro.dll.lib

Console application:

{blddir}bld-port:alspro_b.exe
{blddir}bld-port:alspro.exe

Win32 Interface Libraries:

{blddir}bld-wins:mswin32:msWin32intf.lib
{blddir}bld-wins:mswin32:alspro_mswin32.exe
{blddir}bld-wins:kernal32.pro
{blddir}bld-wins:mswin32:user32.pro
{blddir}bld-wins:mswin32:gdi32.pro
{blddir}bld-wins:mswin32:shell32.pro
{blddir}bld-wins:mswin32:winspool32.pro
{blddir}bld-wins:mswin32:comdlg32.pro


