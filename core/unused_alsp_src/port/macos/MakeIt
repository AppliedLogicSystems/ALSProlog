# a simple time saver  (pm 8/2/86)

Set Echo 0

Set Exit 0								# start trap errors

IF "{1}" == "-C"
	Set MakeDirectory {2}
	Shift 2
ELSE
	Set MakeDirectory 0
END

IF {MakeDirectory} != 0
	Set OrigDirectory `Directory`
	SetDirectory {MakeDirectory}
END

Echo 'Set Exit 1' > makeit.temp			# abort makeit.temp if error
Echo 'Set Echo On' >> makeit.temp		# makeit.temp should echo
Make {Parameters} >> makeit.temp		# these are the actual Make commands
Set makeStatus {Status}					# remember the status of the make
	
IF {makeStatus} == 0
	makeit.temp
	Set makeStatus {Status}
END

Delete makeit.temp						# waste the temp file					

IF {MakeDirectory} != 0
	SetDirectory {OrigDirectory}
END

Set Exit 1								# stop trapping erros
Exit {makeStatus}
