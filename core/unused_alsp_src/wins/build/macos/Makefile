# ceh - These headers come from deep in alsdir/library, someday put mac stuff there. - cehLIBS =X_CFLAGS =X_INIT_LIBS = X_LIBS = "{MWPPCLibraries}ANSI (NL) C.PPC.Lib" ¶		 "{MWPPCLibraries}AOCELib" ¶		 "{MWPPCLibraries}AppleScriptLib" ¶		 -weakimport "{MWPPCLibraries}ColorSync" ¶		 "{MWPPCLibraries}DragLib" ¶		 "{MWPPCLibraries}InterfaceLib" ¶		 "{MWPPCLibraries}MathLib" ¶		 "{MWPPCLibraries}MWCRuntime.Lib" ¶		 "{MWPPCLibraries}ObjectSupportLib" ¶		 "{MWPPCLibraries}PLStringFuncsPPC.lib" ¶		 "{MWPPCLibraries}QuickDraw3DAcceleratorLib" ¶		 "{MWPPCLibraries}QuickDraw3DLib" ¶		 "{MWPPCLibraries}QuickDraw3DViewerLib" ¶		 "{MWPPCLibraries}QuickDrawGXLib" ¶		 "{MWPPCLibraries}QuickTimeLib" ¶		 "{MWPPCLibraries}SIOUX.PPC.Lib" ¶		 "{MWPPCLibraries}SpeechLib" ¶		 "{MWPPCLibraries}ThreadsLib" ¶		 "{MWPPCLibraries}TranslationLib"X_EXTRA_LIBS = BDINCS =  -I :::bld-port:srcdir = @srcdir@PROLIB = :::bld-port:alspro.ppc.libPROLOG = :::bld-port:alspro_bARCH = portOS = macos7SOS = macosGOS = macosCC = MWCPPCWIN = macosC2PFILT = allADDL_CS =# don't use -opt all it requires too much time/memory - cehCFLAGS = -EOL -mpw_chars -requireprotos -w off -sym fullADDL_LIBS = CFG = #define WIN_STR X_WIN_STRADDL_INITS = ADDL_PROFS = XINCLUDES = -I {MWCIncludes}## why are these missing? -cehXTRFLAGS =XDEFINES =XCGFLAGS =#--------- Static portion of makefileWLD = ::{WIN}:WSRCD = {srcdir}wins:src:#### WARNING::#### Do NOT change the blank as path separator below to a colon, #### because colon (in this setting) bombs make under DJGPP/DOS!## ceh - no VPATH, but use directory dependency##VPATH = {WSRCD} {srcdir}/generic:	Ä : {WSRCD} {srcdir}wins:build:macos: {srcdir}generic:  CINTDIR = {srcdir}cinterf:C2PRODIR = {CINTDIR}c2pro:P2INTDIR = {CINTDIR}pro2intf:WINTLIB={WIN}interf.libLIBCS = {WSRCD}{WIN}aux.c {ADDL_CS} {WIN}0.c {WIN}1.c {WIN}2.c {WIN}3.cLIBOBJS = {WIN}aux.o {WIN}0.o {WIN}1.o {WIN}2.o {WIN}3.o{WIN}PlainPROFILES	= {WIN} {ADDL_PROFS}{WIN}PROFILES	= {patsubst %,%.pro,{{WIN}PlainPROFILES}}all Ä library imageLIBOBJS Ä {LIBCS}## Define CPPFLAGS and the default rule for translating .c files to .o files#CPPFLAGS= -I : -I ::: -I {srcdir}generic: -i {srcdir}generic:generate:tok.h: -I {srcdir}{ARCH}  ¶		   -I {srcdir}{ARCH}:{SOS} -I {WSRCD} {BDINCS} -D HAVE_CONFIG_H.o Ä .c	{CC} -o {TargDir}{Default}.o {CPPFLAGS} {CFLAGS} {X_CFLAGS} {DepDir}{Default}.cmacos0.o Ä macos0.c	{CC} -o macos0.o {CPPFLAGS} {CFLAGS} {X_CFLAGS} macos0.cmacos1.o Ä macos1.c	{CC} -o macos1.o {CPPFLAGS} {CFLAGS} {X_CFLAGS} macos1.cmacos2.o Ä macos2.c	{CC} -o macos2.o {CPPFLAGS} {CFLAGS} {X_CFLAGS} macos2.cmacos3.o Ä macos3.c	{CC} -o macos3.o {CPPFLAGS} {CFLAGS} {X_CFLAGS} macos3.cPROFLAGS= -b## create .src from .spc#TRFLAGS = -debug {XTRFLAGS}C2PFS = {C2PRODIR}c2p.pro {C2PRODIR}c2pro {C2PRODIR}cexp {C2PRODIR}cfiles {C2PRODIR}cmacro {C2PRODIR}cout {C2PRODIR}cparse {C2PRODIR}ctokenc2prolcl.pro Ä {C2PFS}	catenate {C2PFS} > c2prolcl.pro{WIN}.src Ä {WSRCD}{WIN}.spc {WSRCD}{WIN}.h c2prolcl.pro	Set ALS_OPTIONS heap_size:8000	Export ALS_OPTIONS	{PROLOG} {PROFLAGS} c2prolcl.pro -g c2pro ¶		-p -os {GOS} -filter {C2PFILT} -srcpath {WSRCD} {WIN} ¶			{TRFLAGS} {XINCLUDES} {XDEFINES} {X_CFLAGS}	Unset ALS_OPTIONS## create .c files from .src files#FPREFIX	= {WIN}CGFLAGS = -Ddebug -t macos_trans {XCGFLAGS}P2IFS = {P2INTDIR}p2i.pro {P2INTDIR}pro2intf {P2INTDIR}intfout {P2INTDIR}mytransp2intlcl.pro Ä {P2IFS}	catenate {P2IFS} > p2intlcl.prop2intf_flag Ä {WIN}.src p2intlcl.pro	date > p2intf_flag	Set ALS_OPTIONS heap_size:14000	Export ALS_OPTIONS	{PROLOG} {PROFLAGS} p2intlcl.pro ¶	-g pro2intf -p {WIN} -fpre {FPREFIX} {CGFLAGS}	Unset ALS_OPTIONS{WIN}0.c {WIN}1.c {WIN}2.c {WIN}3.c Ä p2intf_flag##	Linking the library:#{WINTLIB} Ä {LIBOBJS}	MWLINKPPC -library -o {WINTLIB} {LIBOBJS}##	Target to make the library:#	We use a recursive call to force the LIBOBJS variable to#	be recomputed after all the {WIN}<nnn>.c files are generated;#	The dependency below doesn't seem to do that.#library Ä {WINTLIB}IMAGE		= alspro_{WIN}image Ä {IMAGE}{IMAGE} Ä pimain.o pi_init.o {PROLIB} {WINTLIB} {srcdir}port:macos:alsres.r	MWLINKPPC -o {IMAGE} -application -c 'ALS4' -sym full {X_INIT_LIBS} pimain.o pi_init.o ¶		{PROLIB}	¶		{X_LIBS}	¶		{WINTLIB}	Rez -o {IMAGE} -a {srcdir}port:macos:alsres.r## later - ceh##{IMAGE} Ä {IMAGE}0 ##	ALSPATH={WLD}; export ALSPATH; ¶##	{IMAGE}0 *.pro {ADDL_PROFS} ¶##		-g 'save_image({IMAGE},[libload(true}]}'cleanup Ä	-rm *.o	-rm *.obp	-rm core super_clean Ä	-rm *.o	-rm *.obp	-rm core	-rm -r alsdir## Dependencies#{WIN}aux.o Ä {WSRCD}{WIN}aux.c {srcdir}generic:alspi.h {srcdir}generic:cinterf.h {WSRCD}{WIN}.h{WIN}0.o Ä {WIN}0.c {srcdir}generic:alspi.h {srcdir}generic:cinterf.h {WSRCD}{WIN}.h{WIN}1.o Ä {WIN}1.c {srcdir}generic:alspi.h {srcdir}generic:cinterf.h {WSRCD}{WIN}.h{WIN}2.o Ä {WIN}2.c {srcdir}generic:alspi.h {srcdir}generic:cinterf.h {WSRCD}{WIN}.h{WIN}3.o Ä {WIN}3.c {srcdir}generic:alspi.h {srcdir}generic:cinterf.h {WSRCD}{WIN}.h